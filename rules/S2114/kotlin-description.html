<div class="sect1">
<h2 id="_description">Description</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_why_is_this_an_issue">Why is this an issue?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Passing a collection as an argument to the collection&#8217;s own method is either an error - some other argument was intended - or simply nonsensical code.</p>
</div>
<div class="paragraph">
<p>Further, because some methods require that the argument remain unmodified during the execution, passing a collection to itself can result in undefined behavior.</p>
</div>
<div class="sect2">
<h3 id="_noncompliant_code_example">Noncompliant code example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val objs = mutableListOf&lt;Any&gt;()
objs.add("Hello")

objs.add(objs) // Noncompliant; StackOverflowException if objs.hashCode() called
objs.addAll(objs) // Noncompliant; behavior undefined
objs.containsAll(objs) // Noncompliant; always true
objs.removeAll(objs) // Noncompliant; confusing. Use clear() instead
objs.retainAll(objs) // Noncompliant; NOOP</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compliant_solution">Compliant solution</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-kotlin" data-lang="kotlin">val newList = mutableListOf&lt;Any&gt;()
val objs = mutableListOf&lt;Any&gt;()
objs.add("Hello")

objs.containsAll(newList) // Compliant
objs.addAll(newList) // Compliant
objs.removeAll(newList) // Compliant
objs.retainAll(newList) // Compliant</code></pre>
</div>
</div>
</div>
</div>
</div>